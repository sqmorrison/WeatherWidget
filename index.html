<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="assets/icon.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/icon.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/icon.png">
    <link rel="icon" type="image/x-icon" href="/assets/icon.png">
    <title>Open Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        :root {
            --myPrimary: #8fe0ff;
            --mySecondary: #75b4e3;
            --myAccent: #54416d;
        }
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body{
            margin: 1px;
            background: radial-gradient(ellipse at top, #8fe0ff, transparent),
                        radial-gradient(ellipse at bottom, #54416d, transparent);
        }
    </style>
</head>
<body>
    <div class="d-flex justify-content-center align-items-center vh-100">
        <div class="card border-dark text-bg-light col-12 col-md-6 col-lg-3 p-4" style="max-width: 30rem;">
            <div class="card-body">
                   <div class="row align-items-center">
                        <h6 class="col-sm-4" id="txtTemp"></h6>
                        <i class="col-sm-4 bi bi-cloud-drizzle" style="font-size: 1.75rem; color: cornflowerblue;"></i>
                        <div class="col-sm-4">
                            <i class="bi bi-sunset-fill" style="font-size: 1.5rem; color: var(--myAccent);"></i>
                                <label>6:00pm</label>
                        </div>
                        
                    </div> 
                    <div class="row align-items-center">
                        <div class="col-sm-4">
                            <p class="mb-0" id="txtHigh">H: 38</p>
                            <p class="mt-0" id="txtLow">L: 26</p>
                        </div>
                            <div class="col-sm-8 mb-4">
                                <i class="bi bi-moisture" style="font-size: 1.5rem; color: cornflowerblue;"></i>
                            <label class="mr-1" id="txtHumidity"></label>
                            </div>
                        </div>  
                    </div> 
                    <p>It is colder than yesterday.</p>
                    <div class="row mb-1">
                        <p class="col-sm-4">location: </p>
                        <select class="col-sm-6">
                            <option selected value="Cookeville">
                                Cookeville
                            </option>
                            <option value="Knoxville">Knoxville</option>
                            <option value="Nashville">Nashville</option>
                            <option value="Memphis">Memphis</option>
                        </select>
                    </div>
            </div>
        </div>
    </div>
    <script>
        var currentTemp = "";
        var currentHumid = "";
        var dailyHigh = "";
        var dailyLow = "";

        const txtTemp = document.getElementById("txtTemp");
        const txtHumidity = document.getElementById("txtHumidity");
        const txtHigh = document.getElementById("txtHigh");
        const txtLow = document.getElementById("txtLow");

        async function getData() {
            const url = "https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current=temperature_2m,relative_humidity_2m,precipitation,rain,showers,snowfall,weather_code&daily=temperature_2m_max,temperature_2m_min,sunrise,sunset&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FChicago&past_days=1";
            try {
                const response = await fetch(url);
                if (!response.ok) {
                throw new Error(`Response status: ${response.status}`);
                }

                const json = await response.json();
                currentTemp += json["current"]["temperature_2m"] + "°F";
                currentHumid += json["current"]["relative_humidity_2m"] + "%";
                dailyHigh += "H:" + json["daily"]["temperature_2m_max"][0] + "°F";
                dailyLow +=  "H:" + json["daily"]["temperature_2m_min"][0] + "°F";
                console.log(json);
                txtTemp.innerHTML = currentTemp;
                txtHumidity.innerHTML = currentHumid;
                txtHigh.innerHTML = dailyHigh;
                txtLow.innerHTML = dailyLow;
            } catch (error) {
                console.error(error.message);
            }
        }

        getData();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>

<!-- 
I used generative ai (chatgpt) to explain to me the code snippet from the assignment, along with image generation for the favicon/home icon
I also used gemini through a google search clarifying what a web widget is, and used it to debug some erros I had with my custom css
-->